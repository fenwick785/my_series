{% extends 'base.html.twig' %}


{% block content %}

    <h1 class="display-4 text-center">
        <i class="fas fa-user"></i>

        {{ app.user.username }}
    </h1>
    <hr>
    <br>
    <h4>
        Informations générales
    </h4>
    <ul class="list-group list-group-flush">
        <li class="list-group-item">Prenom :
            {{ app.user.firstName }}</li>
        <li class="list-group-item">Nom :
            {{ app.user.lastName }}</li>
        <li class="list-group-item">Email :
            {{ app.user.email }}</li>
        <li class="list-group-item">
            Localisation :
            {{ app.user.location }}</li>
        <li class="list-group-item">
            Genre :
            {{ app.user.kind }}</li>
        <li class="list-group-item">
            Date de naissance :
            {{ app.user.birthDate | date('d/m/Y') }}</li>
    </ul>
    <br>
    <a class="btn btn-danger" href="{{ path('profil_update') }}">
        Modifier mon profil
    </a>
    <br>
    <br>
    <br>

    <h4>
        Votre liste de série(s) en cours / in progress:
    </h4>

    <div class="row">


        {% for l in app.user.listUserSeries if l.state == 'inProgress' %}

                <div class="col-3">
                <div class="card-group">
                    <div class="card">
                    <a href="{{path('serie_detail', {'id': l.serie.id})}}">
                        <img src="{{l.serie.photo }}" class="card-img-top" alt="..."></a>
                        <div class="card-body">
                            <h6 class="card-title">{{ l.serie.title | striptags | truncate(10, true, '...')}}</h6><hr>
                            <p class="card-text text-right">
                            <a href="{{path('serie_remove_list', {'id':l.serie.id, 'state':'inProgress'})}}">
                                <span class="badge badge-danger p-2"> Retirer de la liste </span>
                            </a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

        {% endfor %}
    </div>

<hr>
    <h4>
        Votre liste de souhait / wish-list:
    </h4>
    


<div class="row">
        {% for l in app.user.listUserSeries if l.state == 'wish' %}
            <div class="col-3">
                <div class="card-group">
                    <div class="card">
                    <a href="{{path('serie_detail', {'id': l.serie.id})}}">
                        <img src="{{l.serie.photo }}" class="card-img-top" alt="..."></a>
                        <div class="card-body">
                            <h6 class="card-title">{{ l.serie.title | striptags | truncate(10, true, '...')}}</h6><hr>
                            <p class="card-text text-right">
                            <a href="{{path('serie_remove_list', {'id':l.serie.id, 'state':'wish'})}}">
                                <span class="badge badge-danger p-2"> Retirer de la liste </span>
                            </a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

    

    <hr>
    <h4>
        Votre liste de série(s) terminée(s) / wish-list:
    </h4>

    <div class="row">
        {% for l in app.user.listUserSeries if l.state == 'finish' %}
            <div class="col-3">
                <div class="card-group">
                    <div class="card">
                    <a href="{{path('serie_detail', {'id': l.serie.id})}}">
                        <img src="{{l.serie.photo }}" class="card-img-top" alt="..."></a>
                        <div class="card-body">
                            <h6 class="card-title">{{ l.serie.title | striptags | truncate(10, true, '...')}}</h6><hr>
                            <p class="card-text text-right">
                            <a href="{{path('serie_remove_list', {'id':l.serie.id, 'state':'finish'})}}">
                                <span class="badge badge-danger p-2"> Retirer de la liste </span>
                            </a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
    <br><br>
</div>
{% endblock %}
